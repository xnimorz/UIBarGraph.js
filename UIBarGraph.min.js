(function($){var defaults={items:[],maxValue:100,minValue:0,showValues:true,blockSize:"16px",lineColor:null,blockColor:"#abe",itemsDistance:"5px",fontSize:"16px",textWidth:"50px",textColor:"#000",animationTime:1e3,isTextOnProgress:false,valueWidth:30};$.fn.UIBarGraph=function(settings){var options=$.extend({},defaults,settings),barGraph=$('<div class="ui-bar-graph"/>'),barWidth=$(this)[0].clientWidth-(options.showValues?options.valueWidth:0)-(!options.isTextOnProgress?parseInt(options.textWidth):0);options.items=[];for(var i in settings.items){options.items[i]=settings.items[i]}function paintItemsOnContainer(value,text,block,barLine){barLine.append(block.append(text,value))}function paintItem(value,text,block,barLine){barLine.append(text,block,value)}function setCSSProperties(text,block,barLine,width){text.css({width:options.textWidth});block.css({"-webkit-transition":"all "+options.animationTime+"ms ease","-moz-transition":"all "+options.animationTime+"ms ease","-ms-transition":"all "+options.animationTime+"ms ease",transition:"all "+options.animationTime+"ms ease","background-color":options.blockColor,height:options.blockSize,width:width});barLine.css({"margin-top":options.itemsDistance,"font-size":options.fontSize,"font-color":options.textColor})}function paint(items){var barLine,lineBlock,lineText,lineValue;items=items||options.items;for(var i in items){barLine=$('<div class="ui-bar-graph-line" data-name="{0}"/>'.replace("{0}",i));lineBlock=$('<div class="ui-bar-graph-line__block"/>');lineText=$('<div class="ui-bar-graph-line__text">{0}</div>'.replace("{0}",i));if(options.isTextOnProgress){if(options.showValues){lineValue=$('<div class="ui-bar-graph-line__value ui-bar-graph-line__value_right">{0}</div>'.replace("{0}",options.items[i]))}paintItemsOnContainer(lineValue,lineText,lineBlock,barLine)}else{if(options.showValues){lineValue=$('<div class="ui-bar-graph-line__value">{0}</div>'.replace("{0}",options.items[i]))}paintItem(lineValue,lineText,lineBlock,barLine)}setCSSProperties(lineText,lineBlock,barLine,barWidth*options.items[i]/(options.maxValue-options.minValue)+"px");barGraph.append(barLine)}}$.fn.extendItems=function(items){for(var i in items){options.items[i]=items[i]}return $(this).repaint()};$.fn.addItems=function(items){var i,newItems=[];for(i in items){if(!options.items[i]){newItems[i]=items[i];options.items[i]=items[i]}}paint(newItems);return $(this)};$.fn.repaint=function(){barGraph.html("");paint();return $(this)};$.fn.getItem=function(key){return options.items[key]};$.fn.getItemsArray=function(){return options.items};$.fn.extendOptions=function(settings){options=$.extend({},options,settings);return $(this)};$.fn.moveItem=function(item,value){if(options.items[item]){options.items[item]=value}$(this).find(".ui-bar-graph-line[data-name='"+item+"']").children(".ui-bar-graph-line__block").css({width:barWidth*options.items[item]/(options.maxValue-options.minValue)+"px"}).end().children(".ui-bar-graph-line__value").html(value);return $(this)};paint();if(options.lineColor){barGraph.css({border:"1px solid "+options.lineColor})}$(this).append(barGraph);return $(this)}})(jQuery);